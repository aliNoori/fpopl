import{e as k,l as g,h as p,r as I,m as b,c as d,a as o,d as a,t as S,k as A,F as N,j as $,g as w,o as f,_ as B}from"./Clb8LWsu.js";const C={class:"container"},j={class:"content"},q={class:"description"},E={class:"phone-number"},F={class:"input-container"},P=["onInput"],R=k({__name:"verify",setup(T){const u=g(),m=w(),i=b(),v=p().$axios,r=I(["","","",""]),y=i.query.phone,_=i.query.country,l=p().$toPersian;async function x(c,t){const n=c.target,s=n.value.replace(/[^0-9]/g,"");if(s){r.value[t]=s,n.value=l(s);const e=n.nextElementSibling;e&&e.focus()}if(r.value.every(e=>e!==""))try{const e=r.value.join(""),h=(await v.post("/auth/verify-code",{code:e,phone:y,country:_})).data.token;u.setToken(h),localStorage.setItem("auth_token",u.token),await m.push("/welcome")}catch(e){console.error("خطا در ارسال کد:",e)}}return(c,t)=>(f(),d("div",C,[o("div",j,[t[4]||(t[4]=o("h2",{class:"title"},"کد تایید",-1)),o("p",q,[t[0]||(t[0]=a(" لطفا کد ارسال شده به")),t[1]||(t[1]=o("br",null,null,-1)),t[2]||(t[2]=a(" شماره موبایل ")),o("span",E,S(A(l)("9355851170")),1),t[3]||(t[3]=a(" را وارد کنید "))]),o("div",F,[(f(),d(N,null,$(4,n=>o("input",{key:n,maxlength:"1",class:"input-field",type:"text",inputmode:"numeric",autocomplete:"off",onInput:s=>x(s,n-1)},null,40,P)),64))]),t[5]||(t[5]=o("p",{class:"timer"},"۱:۴۷ مانده تا دریافت مجدد",-1))])]))}}),z=B(R,[["__scopeId","data-v-069f7b14"]]);export{z as default};
